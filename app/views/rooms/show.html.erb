<h1>DM</h1>

<h4>参加者</h4>
<% @entries.each do |e| %>
<h5><%= link_to e.user.name, users_path(e.user.id) %></h5>
<% end %>

<hr>
<div class="container">
  <div class="row.flex-column">
    <% if @messages.present? %>
      <% @messages.each do |m| %>
        <strong><%= m.message %></strong>
        <small>by <strong><%= link_to m.user.name , users_path(m.user.id) %></strong></small>
        <hr>
      <% end %>
    <% else %>
      <h3 class="text-center">メッセージはまだありません</h3>
    <% end %>

    <%= form_with model: @message, local:true do |f| %>
      <%= f.text_field :message, :placeholder => "メッセージを入力して下さい" , :size => 70 %>
      <%= f.hidden_field :room_id, :value => @room.id %>
      <br>
      <%= f.submit "投稿する" %>
      <% end %>

      <%= link_to "ユーザー一覧に戻る", users_path %>

  </div>
</div>
